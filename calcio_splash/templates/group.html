{% extends "base.html" %}

{% block header_menu_class_tournament %}active{% endblock %}

{% block header %}
  <h2>Girone: {{ group.name }}</h2>
  <h3>Torneo {{ group.tournament.name }} - <u>{{ group.tournament.edition_year }}</u></h3>
{% endblock %}


{% block content %}
<section id="teams" class="page-head-section text-center">


  <div class="container">
    <!-- GROUP CLASSIFICA -->
    {% if not group.is_final %}
    <div class="row">
      <div class="col-md-12">
        <table class="group-rank">
          <tr>
            <th>&nbsp;</th>
            <th>Punti</th>
            {% if not group.is_beach %}
            <th>GF</th>
            <th>GS</th>
            <th>DR</th>
            {% endif %}
          </tr>
          {% for team_name, team in group.teams.items %}
          <tr>
            <td>
                <a href="{% url 'team-detail' team.pk %}">{{ team_name }}</a>
            </td>
            <td>{{team.points}}</td>
            {% if not group.is_beach %}
            <td>{{team.goals_done}}</td>
            <td>{{team.goals_taken}}</td>
            <td>{{team.goals_diff}}</td>
            {% endif %}
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
    {% endif %}
    <!-- /GROUP CLASSIFICA -->

    <!-- GROUP MATCHES -->
    <div class="row">
      {% if group.matches %}
      {% for match in group.group_matches %}
      <div class="white-match">
        <div class="col-sm-4 col-xs-5">
            <div class="match-left">
                <div class="team-name">
                    <h5>
                        {% if match.team_a %}
                            <a href="{% url 'team-detail' match.team_a.id %}">{{ match.team_a.name }}</a>
                        {% else %}
                            -
                        {% endif %}
                    </h5>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-xs-2">
            <div class="match-date">
                {% if group.is_beach %}
                    <h2>{{ match.team_a_set_1|default_if_none:"" }} - {{ match.team_b_set_1|default_if_none:""  }}</h2>
                    {% if group.is_final %}
                    <h2>{{ match.team_a_set_2|default_if_none:"" }} - {{ match.team_b_set_2|default_if_none:""  }}</h2>
                      {% if match.team_a_set_3 != None and match.team_b_set_3 != None %}
                        <h2>{{ match.team_a_set_3|default_if_none:"" }} - {{ match.team_b_set_3|default_if_none:""  }}</h2>
                      {% endif %}
                    {% endif %}
                    <b><a href="{% url 'beach-match-detail' match.id %}">{{ match.match_date_time|date:"D d - H:i" }}</a></b>
                {% else %}
                    <h2>{{ match.team_a_score|default_if_none:""  }} - {{ match.team_b_score|default_if_none:""  }}</h2>
                    <b><a href="{% url 'match-detail' match.id %}">{{ match.match_date_time|date:"D d - H:i" }}</a></b>
                {% endif %}
            </div>
        </div>
        <div class="col-sm-4 col-xs-5">
            <div class="match-right">
                <div class="team-name">
                    <h5>
                        {% if match.team_b %}
                            <a href="{% url 'team-detail' match.team_b.id %}">{{ match.team_b.name }}</a>
                        {% else %}
                            -
                        {% endif %}
                    </h5>
                </div>

            </div>
        </div>
      </div>

      {% endfor %}
      {% endif %}
    </div>
    <!-- /GROUP MATCHES -->


  </div>


</section>
{% endblock %}
